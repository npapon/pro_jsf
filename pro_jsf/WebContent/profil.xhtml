<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:h="http://java.sun.com/jsf/html" 
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui"
> 
    <h:head>
        <title>profil</title>
       <h:outputStylesheet library="default" name="css/style.css" />
    </h:head>
    <h:body>

    <ui:include src="/menu.xhtml" />
  
  <p:fieldset legend="Bienvenu(e) #{connexionBean.utilisateur.login}">
  <h:graphicImage  class ="imageprofil" value="#{connexionBean.emplacementImageProfil}"  title="profil" alt="Votre photo"/>
   <div>
       
      <h:form id ="formulaire">
     
<h:commandButton value="Effacer mon compte" type="image"  action= "#{profilBean.goToInscriptionPage}"  image="images/icones/supprimer.png" styleClass="effacerProfil" >

               <f:param id="param1" name="param1Name" value="#{connexionBean.utilisateur.login}"/>
                <f:param id="param2" name="param2Name" value="#{connexionBean.utilisateur.mot_de_passe}"/>
<f:actionListener binding="#{profilBean.supprimerCompte()}" />
<f:actionListener binding="#{profilBean.parametersAction()}" />
</h:commandButton>

</h:form>
   </div>
   
   
   </p:fieldset>      


<h:form  enctype="multipart/form-data">
<fieldset>
            <legend>Charger sa photo</legend>
            
             <p:outputLabel for="imageprofil">Charger image profil</p:outputLabel>
             <p:fileUpload mode="simple"   id="imageprofil" name="imageprofil"/>
              <p:commandButton value="Valider l'image"  action="#{profilBean.creerImageProfil}" styleClass="sansLabel" >        
               <f:param id="param1" name="param1Name" value="#{connexionBean.utilisateur.login}"/>
                <f:param id="param2" name="param2Name" value="#{connexionBean.utilisateur.mot_de_passe}"/>
            </p:commandButton>
   
            </fieldset>
</h:form>

<br/>

    </h:body> 
</html>
  
