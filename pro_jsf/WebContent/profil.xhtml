<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:h="http://java.sun.com/jsf/html" 
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui"
   xmlns:t="http://myfaces.apache.org/tomahawk"
> 
    <h:head>
        <title>profil</title>
       <h:outputStylesheet library="default" name="css/style.css" />
    </h:head>
    
  
    <h:body>
<ui:include  src="/deconnexion.xhtml" />
    <ui:include src="/menu.xhtml" />
  
  <p:fieldset legend="Bienvenu(e) #{connexionBean.utilisateur.login}">
  <h:graphicImage  class ="imageprofil" value="#{connexionBean.emplacementImageProfil}"  title="profil" alt="Votre photo"/>
   </p:fieldset>      
    
           <h:form enctype="multipart/form-data">
            <fieldset>
                <legend>Envoi de fichier</legend>

     

                <h:outputLabel for="fichier">Emplacement du fichier <span class="requis">*</span></h:outputLabel>
                <t:inputFileUpload id="fichier" value="#{profilBean.fichier.contenu}" />
                <h:message id="fichierMessage" for="fichier" errorClass="erreur" />
                <br />

              
                <h:messages globalOnly="true" infoClass="info" />

                <h:commandButton id="submitChargerImage" name ="chargerImageProfil" value="Envoyer" action="#{profilBean.creerImageProfil}" styleClass="sansLabel">
                  <f:param id="param1" name="param1Name" value="#{connexionBean.utilisateur.login}"/>
                <f:param id="param2" name="param2Name" value="#{connexionBean.utilisateur.mot_de_passe}"/>
                <f:actionListener binding="#{profilBean.parametersAction()}" />
                
                </h:commandButton>
                <br />
            </fieldset>
        </h:form>
        
        <div>
          <h:form id ="formulaire">
     
<h:commandButton id="submitEffacerCompte" value="Effacer mon compte" type="image"  action= "#{profilBean.goToInscriptionPage}"  image="images/icones/supprimer.png" styleClass="clickAll" >

               <f:param id="param1" name="param1Name" value="#{connexionBean.utilisateur.login}"/>
                <f:param id="param2" name="param2Name" value="#{connexionBean.utilisateur.mot_de_passe}"/>
<f:actionListener binding="#{profilBean.supprimerCompte()}" />
<f:actionListener binding="#{profilBean.parametersAction()}" />
</h:commandButton>
</h:form>
        
        
        </div>


    </h:body> 
</html>
  
